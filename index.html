<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="angular-material.css" />

    <script src="angular.js"></script>
    <script src="angular-aria.js"></script>
    <script src="angular-animate.js"></script>
    <script src="angular-material.js"></script>
    <script src="hammer.js"></script>

    <script>
      var app = angular.module('myapp', ['ngMaterial'])
        .controller("autocompleteController", function($http){

          this.querySearch = function(){
            return $http.get("http://api.geonames.org/citiesJSON?north=44.1&south=-9.9&east=-22.4&west=55.2&lang=de&username=demo")
            .then(function(result){
              return result.data.geonames;
            })
          }
        });

    </script>
    <style>
    </style>
  </head>

  <body ng-app='myapp' layout="column" ng-controller="autocompleteController as ctrl" >

    <md-autocomplete flex
            md-selected-item="ctrl.selectedItem"
            md-search-text="ctrl.searchText"
            md-items="item in ctrl.querySearch(ctrl.searchText)"
            md-item-text="item.name"
            md-floating-label="Search Countries">

            <span md-highlight-text="ctrl.searchText">{{item.name}}</span>
    </md-autocomplete>

  </body>

</html>
